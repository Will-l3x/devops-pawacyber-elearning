{"ast":null,"code":"import _objectSpread from\"C:\\\\Users\\\\Hp 15\\\\source\\\\repos\\\\devops2\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"C:\\\\Users\\\\Hp 15\\\\source\\\\repos\\\\devops2\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\Hp 15\\\\source\\\\repos\\\\devops2\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _assertThisInitialized from\"C:\\\\Users\\\\Hp 15\\\\source\\\\repos\\\\devops2\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:\\\\Users\\\\Hp 15\\\\source\\\\repos\\\\devops2\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\Hp 15\\\\source\\\\repos\\\\devops2\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import{connect}from\"react-redux\";import $ from\"jquery\";import M from\"materialize-css\";import\"../assets/css/dropify.min.css\";import Dropzone from\"react-dropzone\";import{fileUpload}from\"../actions/fileUpload\";var FileDropZone=/*#__PURE__*/function(_Component){_inherits(FileDropZone,_Component);var _super=_createSuper(FileDropZone);function FileDropZone(){var _this;_classCallCheck(this,FileDropZone);_this=_super.call(this);_this.onDrop=function(files){function getExtension(filename){var parts=filename.split(\".\");return parts[parts.length-1];}_this.setState({files:files});_this.props.fileUpload(files);console.log(_this.props,_this.state);function isValidFile(filename){var ext=getExtension(filename);switch(ext.toLowerCase()){case\"doc\":return{isValid:true,icon:\"library_books\"};case\"docx\":return{isValid:true,icon:\"library_books\"};case\"pdf\":return{isValid:true,icon:\"library_books\"};case\"epub\":return{isValid:true,icon:\"library_books\"};case\"jpg\":return{isValid:true,icon:\"photo\"};case\"gif\":return{isValid:true,icon:\"photo\"};case\"bmp\":return{isValid:true,icon:\"photo\"};case\"png\":return{isValid:true,icon:\"photo\"};case\"jpeg\":return{isValid:true,icon:\"photo\"};case\"m4v\":return{isValid:true,icon:\"ondemand_video\"};case\"avi\":return{isValid:true,icon:\"ondemand_video\"};case\"mpg\":return{isValid:true,icon:\"ondemand_video\"};case\"mp4\":return{isValid:true,icon:\"ondemand_video\"};case\"mkv\":return{isValid:true,icon:\"ondemand_video\"};default:return{isValid:false,icon:\"warning\"};}}var file=$(\"#input-file\");if(isValidFile(file.val()).isValid===false){$(\".file-upload\").addClass(\"upload-disabled\");_this.setState({fileIcon:isValidFile(file.val()).icon});return M.toast({html:\"Fail. Please select valid file type!\",classes:\"red accent-2\"});}$(\".file-upload\").removeClass(\"upload-disabled\");_this.setState({fileIcon:isValidFile(file.val()).icon});M.toast({html:\"Success. Valid file type!\",classes:\"green accent-3\"});};_this.state={files:[],fileIcon:\"\"};_this.onDrop.bind(_assertThisInitialized(_this));return _this;}_createClass(FileDropZone,[{key:\"render\",value:function render(){var _this2=this;var preview={display:\"inline\"};var files=this.state.files.map(function(file){return/*#__PURE__*/React.createElement(\"li\",{key:file.name},/*#__PURE__*/React.createElement(\"p\",{className:\"dropify-filename\"},/*#__PURE__*/React.createElement(\"span\",{className:\"file-icon\"}),/*#__PURE__*/React.createElement(\"span\",{className:\"dropify-filename-inner\"},file.name,\" - \",file.size,\" bytes\")));});return/*#__PURE__*/React.createElement(Dropzone,{onDrop:this.onDrop},function(_ref){var getRootProps=_ref.getRootProps,getInputProps=_ref.getInputProps;return/*#__PURE__*/React.createElement(\"section\",{className:\"container\"},/*#__PURE__*/React.createElement(\"div\",Object.assign({className:\"dropify-wrapper\"},getRootProps()),/*#__PURE__*/React.createElement(\"div\",{className:\"dropify-message\"},\" \",/*#__PURE__*/React.createElement(\"p\",null,\"Drag and drop a file here or click\")),/*#__PURE__*/React.createElement(\"input\",Object.assign({id:\"input-file\"},getInputProps())),/*#__PURE__*/React.createElement(\"button\",{className:\"dropify-clear\",onClick:function onClick(){_this2.setState({files:[]});},style:_this2.state.files.length>0?preview:{}},\"Remove\"),/*#__PURE__*/React.createElement(\"div\",{className:\"dropify-preview\",style:_this2.state.files.length>0?preview:{}},/*#__PURE__*/React.createElement(\"span\",{className:\"dropify-render\"},/*#__PURE__*/React.createElement(\"i\",{className:\"file-icon material-icons large\",style:_this2.state.files.length>0?preview:{}},_this2.state.fileIcon)),/*#__PURE__*/React.createElement(\"div\",{className:\"dropify-infos\"},/*#__PURE__*/React.createElement(\"ul\",{className:\"dropify-infos-inner\"},files)))));});}}]);return FileDropZone;}(Component);var mapStateToProps=function mapStateToProps(state){return _objectSpread(_objectSpread({},state),{},{files:state.fileUpload});};var mapDispatchToProps={fileUpload:fileUpload};export default connect(mapStateToProps,mapDispatchToProps)(FileDropZone);","map":{"version":3,"sources":["C:/Users/Hp 15/source/repos/devops2/client/src/components/dropzone.js"],"names":["React","Component","connect","$","M","Dropzone","fileUpload","FileDropZone","onDrop","files","getExtension","filename","parts","split","length","setState","props","console","log","state","isValidFile","ext","toLowerCase","isValid","icon","file","val","addClass","fileIcon","toast","html","classes","removeClass","bind","preview","display","map","name","size","getRootProps","getInputProps","mapStateToProps","mapDispatchToProps"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport $ from \"jquery\";\r\nimport M from \"materialize-css\";\r\nimport \"../assets/css/dropify.min.css\";\r\nimport Dropzone from \"react-dropzone\";\r\nimport { fileUpload } from \"../actions/fileUpload\";\r\n\r\nclass FileDropZone extends Component {\r\n  constructor() {\r\n    super();\r\n\r\n    this.state = {\r\n      files: [],\r\n      fileIcon: \"\",\r\n    };\r\n    this.onDrop.bind(this);\r\n  }\r\n  onDrop = (files) => {\r\n    function getExtension(filename) {\r\n      var parts = filename.split(\".\");\r\n      return parts[parts.length - 1];\r\n    }\r\n    this.setState({ files });\r\n    this.props.fileUpload(files);\r\n    console.log(this.props, this.state)\r\n    function isValidFile(filename) {\r\n      var ext = getExtension(filename);\r\n      switch (ext.toLowerCase()) {\r\n        case \"doc\":\r\n          return { isValid: true, icon: \"library_books\" };\r\n        case \"docx\":\r\n          return { isValid: true, icon: \"library_books\" };\r\n        case \"pdf\":\r\n          return { isValid: true, icon: \"library_books\" };\r\n        case \"epub\":\r\n          return { isValid: true, icon: \"library_books\" };\r\n        case \"jpg\":\r\n          return { isValid: true, icon: \"photo\" };\r\n        case \"gif\":\r\n          return { isValid: true, icon: \"photo\" };\r\n        case \"bmp\":\r\n          return { isValid: true, icon: \"photo\" };\r\n        case \"png\":\r\n          return { isValid: true, icon: \"photo\" };\r\n        case \"jpeg\":\r\n          return { isValid: true, icon: \"photo\" };\r\n        case \"m4v\":\r\n          return { isValid: true, icon: \"ondemand_video\" };\r\n        case \"avi\":\r\n          return { isValid: true, icon: \"ondemand_video\" };\r\n        case \"mpg\":\r\n          return { isValid: true, icon: \"ondemand_video\" };\r\n        case \"mp4\":\r\n          return { isValid: true, icon: \"ondemand_video\" };\r\n        case \"mkv\":\r\n          return { isValid: true, icon: \"ondemand_video\" };\r\n        default:\r\n          return { isValid: false, icon: \"warning\" };\r\n      }\r\n    }\r\n\r\n    var file = $(\"#input-file\");\r\n    if (isValidFile(file.val()).isValid === false) {\r\n      $(\".file-upload\").addClass(\"upload-disabled\");\r\n      this.setState({ fileIcon: isValidFile(file.val()).icon });\r\n      return M.toast({\r\n        html: \"Fail. Please select valid file type!\",\r\n        classes: \"red accent-2\",\r\n      });\r\n    }\r\n    $(\".file-upload\").removeClass(\"upload-disabled\");\r\n    this.setState({ fileIcon: isValidFile(file.val()).icon });\r\n    M.toast({\r\n      html: \"Success. Valid file type!\",\r\n      classes: \"green accent-3\",\r\n    });\r\n\r\n  };\r\n  render() {\r\n    const preview = {\r\n      display: \"inline\",\r\n    };\r\n    const files = this.state.files.map((file) => (\r\n      <li key={file.name}>\r\n        <p className=\"dropify-filename\">\r\n          <span className=\"file-icon\"></span>\r\n          <span className=\"dropify-filename-inner\">\r\n            {file.name} - {file.size} bytes\r\n          </span>\r\n        </p>\r\n      </li>\r\n    ));\r\n\r\n    return (\r\n      <Dropzone onDrop={this.onDrop}>\r\n        {({ getRootProps, getInputProps }) => (\r\n          <section className=\"container\">\r\n            <div className=\"dropify-wrapper\" {...getRootProps()}>\r\n              <div className=\"dropify-message\">\r\n                {\" \"}\r\n                <p>Drag and drop a file here or click</p>\r\n              </div>\r\n              <input id=\"input-file\" {...getInputProps()}></input>\r\n              <button\r\n                className=\"dropify-clear\"\r\n                onClick={() => {\r\n                  this.setState({ files: [] });\r\n                }}\r\n                style={this.state.files.length > 0 ? preview : {}}\r\n              >\r\n                Remove\r\n              </button>\r\n              <div\r\n                className=\"dropify-preview\"\r\n                style={this.state.files.length > 0 ? preview : {}}\r\n              >\r\n                <span className=\"dropify-render\">\r\n                  <i\r\n                    className=\"file-icon material-icons large\"\r\n                    style={this.state.files.length > 0 ? preview : {}}\r\n                  >\r\n                    {this.state.fileIcon}\r\n                  </i>\r\n                </span>\r\n                <div className=\"dropify-infos\">\r\n                  <ul className=\"dropify-infos-inner\">{files}</ul>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </section>\r\n        )}\r\n      </Dropzone>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  ...state,\r\n  files : state.fileUpload\r\n});\r\n\r\nconst mapDispatchToProps = {\r\n  fileUpload,\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(FileDropZone);\r\n"]},"metadata":{},"sourceType":"module"}